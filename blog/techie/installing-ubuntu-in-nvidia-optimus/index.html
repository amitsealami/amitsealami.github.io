<!doctype html><html><head><title>Blog of Amit Seal Ami</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name=revised content="2019-01-06T23:38:36 PST"><title>Installing Ubuntu in NVidia Optimus / Prime Laptop - Acer Nitro 5 :: Blog of Amit Seal Ami</title><link rel="shortcut icon" href=/blog/images/favicon.png type=image/x-icon><link href=/blog/css/font-awesome.min.css rel=stylesheet><link href=/blog/css/nucleus.css rel=stylesheet><link href=/blog/theme-flex/style.css rel=stylesheet><link href=/blog/theme-flex/variant-blue.css rel=stylesheet><link rel=stylesheet href=/blog/css/bootstrap.min.css><script src=/blog/js/jquery-2.x.min.js></script><script type=text/javascript>var baseurl="https:\/\/amitsealami.github.io\/blog\/";</script><link rel=stylesheet href=/blog/css/custom.css></head><body data-url=/blog/techie/installing-ubuntu-in-nvidia-optimus/><header><div class=logo><a class=baselink href=https://amitsealami.github.io/blog/>Blog of Amit Seal Ami</a></div><div class=burger><a href=javascript:void(0); style=font-size:15px>&#9776;</a></div><nav class=shortcuts><li role><a href=https://amitsealami.github.io target=_blank rel=noopener><i class="fa fa-home"></i><label>Home</label></a></li><li role><a href=https://github.com/lordamit target=_blank rel=noopener><i class="fa fa-github"></i><label>Github</label></a></li><li role><a href=https://linkedin.com/in/AmitSeal target=_blank rel=noopener><i class="fa fa-linkedin-square"></i><label>LinkedIn</label></a></li></nav></header><article><aside><ul class=menu><li data-nav-id=/blog/research/ class="dd-item haschildren"><div><a href=/blog/research/>Research</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i></div><ul><li data-nav-id=/blog/research/zotero-for-research-paper-management/ class=dd-item><div><a href=/blog/research/zotero-for-research-paper-management/>গবেষণার পেপার ম্যানেজ করার জন্য জোটেরো (Zotero)
</a><i class="fa fa-circle-thin read-icon"></i></div></li></ul></li><li data-nav-id=/blog/techie/ class="dd-item parent haschildren"><div><a href=/blog/techie/>Techies!</a>
<i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i></div><ul><li data-nav-id=/blog/techie/installing-ubuntu-in-nvidia-optimus/ class="dd-item active"><div><a href=/blog/techie/installing-ubuntu-in-nvidia-optimus/>Installing Ubuntu in NVidia Optimus / Prime Laptop - Acer Nitro 5
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=/blog/techie/nesting-hugo-blog-in-hugo-site/ class=dd-item><div><a href=/blog/techie/nesting-hugo-blog-in-hugo-site/>Nesting Hugo Blog in Hugo Site
</a><i class="fa fa-circle-thin read-icon"></i></div></li></ul></li><li data-nav-id=/blog/usa/ class=dd-item><div><a href=/blog/usa/>USA Studies</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=/blog/sweden/ class="dd-item haschildren"><div><a href=/blog/sweden/>সুইডেনের পথে, ICSE এর সাথে</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i></div><ul><li data-nav-id=/blog/sweden/visiting-sweden-4/ class=dd-item><div><a href=/blog/sweden/visiting-sweden-4/>সুইডেনের পথে, ICSE এর সাথে - পর্ব ৪
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=/blog/sweden/visiting-sweden-3/ class=dd-item><div><a href=/blog/sweden/visiting-sweden-3/>সুইডেনের পথে, ICSE এর সাথে - পর্ব ৩
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=/blog/sweden/visiting-sweden-2/ class=dd-item><div><a href=/blog/sweden/visiting-sweden-2/>সুইডেনের পথে, ICSE এর সাথে - পর্ব ২
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=/blog/sweden/visiting-sweden-1/ class=dd-item><div><a href=/blog/sweden/visiting-sweden-1/>সুইডেনের পথে, ICSE এর সাথে - পর্ব ১
</a><i class="fa fa-circle-thin read-icon"></i></div></li></ul></li></ul><section></section></aside><section class=page><div class=nav-select><center>Navigation :
<select onchange="location.href=this.value;">
<option value=/blog/research/>Research</option>
<option value=/blog/techie/>Techies!</option>
<option value=/blog/techie/installing-ubuntu-in-nvidia-optimus/ selected>- Installing Ubuntu in NVidia Optimus / Prime Laptop - Acer Nitro 5</option>
<option value=/blog/techie/nesting-hugo-blog-in-hugo-site/>- Nesting Hugo Blog in Hugo Site</option>
<option value=/blog/usa/>USA Studies</option>
<option value=/blog/sweden/>সুইডেনের পথে, ICSE এর সাথে</option>
<option value=/blog/posts/>My page</option></select></center></div><h1>Installing Ubuntu in NVidia Optimus / Prime Laptop - Acer Nitro 5</h1><p>So.. yeah. You are probably here, pissed off, angry at your NVidia Prime / Optimus Laptop because
- It does not allow you to even Try Ubuntu/Kubuntu because it freezes
- It throws &ldquo;dell smbios unable to tun on non dell system for installing&rdquo;
- You installed Ubuntu/Kubuntu directly by clicking on Install Ubuntu/Kubuntu - but it does not start
- You installed Ubuntu/Kubuntu directly by clicking on Install Ubuntu/Kubuntu - but when you login, it shows a black screen with plasma icon, and freezes</p><p>Well, welcome to the boat. I went through this hell as well. And this post comes with absolutely no certainty here that it will work. But it might. And this is the best I can get you to.</p><p>Here is what you gotta do.</p><ul><li>When you insert the live usb, and it starts booting - before the Try/Install option shows up, frantically start pressing F6. Yeah, apparently a hidden keyboard action that allows you to switch to the text based options. You might see options such as check for defects, troubleshooting - etc.</li><li>Press F6 again, and a menu shows up. Enable <code>nomodeset</code>, and then go for start</li><li>It will hopefully start using basic graphical capabilities. You should be able to install now.</li><li>After installation is complete, do the usual routine of removing usb, reboot, view the grub</li><li>Check in the grub entry by pressing <code>e</code> and seeing whether the nomodeset is there or not. It should be there since you installed it using <code>nomodeset</code></li><li>Continue and login. You will notice that the graphics is significantly lagging.</li><li>Open a terminal, update the package list by <code>sudo apt update</code></li><li>Here comes the magically command. <code>sudo ubuntu-drivers autoinstall</code>.</li></ul><p>This command will automatically install the required nvidia drivers.</p><p>After this, you should reboot your computer, and you need to edit the grub to remove nomodeset permanently. So,</p><ul><li>open terminal, <code>sudo nano /etc/default/grub</code></li><li><p>there should be two lines like:</p><pre><code>GRUB_CMDLINE_LINUX_DEFAULT=&quot;quiet splash nouveau.runpm=0&quot;
GRUB_CMDLINE_LINUX=&quot;nodemodeset&quot;
</code></pre><p>make it like:</p><pre><code>GRUB_CMDLINE_LINUX_DEFAULT=&quot;quiet splash nouveau.runpm=0&quot;
GRUB_CMDLINE_LINUX=&quot;nouveau.modeset=0&quot;
</code></pre><p>and save it</p></li></ul><p>The reason for changing it because without it; your laptop will not be going to sleep and waking up properly.</p><ul><li>time to select your graphics driver. There are two options, Nvidia and intel. You should change to intel when you need to save power.</li><li><code>sudo prime-select intel</code></li><li>and you will see that it is remaking the initramfs image, rewriting the grub and other things.</li><li>reboot, and you will see that the lagging stopped. if you want to switch to your nvidia graphics, use</li><li><code>sudo prime-select nvidia</code>, reboot. Using this is not recommended as it will significantly increase the battery consumption.</li></ul><p>This should be all!</p><div id=disqus_thread></div><script type=text/javascript>(function(){if(window.location.hostname=="localhost")
return;var dsq=document.createElement('script');dsq.type='text/javascript';dsq.async=true;var disqus_shortname='https-amitsealami-github-io-blog.disqus.com';dsq.src='//'+disqus_shortname+'.disqus.com/embed.js';(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script><noscript>Please enable JavaScript to view the <a href=http://disqus.com/?ref_noscript>Comments powered by Disqus.</a></noscript><a href=http://disqus.com/ class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a><div class=chevrons><div id=navigation></div></div></section></article><footer><div class=footline><div class=tags><a class="label label-default" href=https://amitsealami.github.io/blog/tags/linux>linux</a>
<a class="label label-default" href=https://amitsealami.github.io/blog/tags/tutorial>tutorial</a></div><div class=date><i class="fa fa-calendar"></i>Last update on 25/08/2018</div></div><div><p><center>&copy; Amit Seal Ami - 2019</center></p></div></footer><script src=/blog/js/clipboard.min.js></script><link href=/blog/css/featherlight.min.css rel=stylesheet><script src=/blog/js/featherlight.min.js></script><script src=/blog/theme-flex/script.js></script></body></html>